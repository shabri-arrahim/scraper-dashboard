{% if downloadable_contents %}
<div class="grid gap-6">
  {% for content in downloadable_contents %}
  <div
    class="bg-gradient-to-r from-white to-gray-50 rounded-xl p-6 border border-gray-200 card-hover"
  >
    <div class="flex items-center justify-between">
      <div class="flex items-center space-x-4">
        <!-- Status Indicator -->
        <div class="flex items-center">
          <div class="w-3 h-3 rounded-full mr-3"></div>
          <div>
            <h3 class="font-bold text-gray-800 text-lg flex items-center">
              <i class="fab fa-python text-blue-500 mr-2"></i>
              {{ content.name }}
            </h3>
            <p class="text-gray-500 text-sm capitalize">
              Last Modified:
              <span class="font-medium">{{ content.last_modified }}</span>
            </p>
            <p class="text-gray-500 text-sm capitalize">
              Size: <span class="font-medium">{{ content.size }}</span>
            </p>
          </div>
        </div>
      </div>

      <!-- Actions -->
      <div class="flex items-center space-x-3">
        <!-- Download button -->
        <button
          class="btn-primary text-white px-4 py-2 rounded-lg font-medium flex items-center"
          onclick="downloadScript('{{ content.download_url }}', '{{ content.name }}')"
        >
          <i class="fas fa-download mr-2"></i>
          Download
        </button>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

{% else %}
<div class="text-center py-12">
  <div
    class="bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4"
  >
    <i class="fas fa-folder-open text-gray-400 text-2xl"></i>
  </div>
  <h3 class="text-xl font-bold text-gray-600 mb-2">
    No Downloadable Content Found
  </h3>
</div>
{% endif %}

<script>
  function downloadScript(url, scriptName) {
    const a = document.createElement("a");
    a.href = url;
    a.download = scriptName;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    alert(`Downloading ${scriptName}...`);
  }
</script>
